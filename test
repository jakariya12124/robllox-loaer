--// FULL ANTI-DETECT STEALTH FLY SCRIPT BUNDLE
local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")
local hum = char:WaitForChild("Humanoid")

-- SETTINGS
local flySpeed = 0.6 -- smooth speed
local liftPower = 1.2 -- vertical float
local teleportTweenSteps = 10

-- FLY TOGGLE
local flying = false
local lastTap = 0

--// ========== DOUBLE-TAP TO FLY ==========
UIS.InputBegan:Connect(function(input, gpe)
	if gpe then return end
	if input.KeyCode == Enum.KeyCode.Space or input.UserInputType == Enum.UserInputType.Touch then
		local now = tick()
		if now - lastTap < 0.4 then
			flying = not flying
			hum.PlatformStand = flying
		end
		lastTap = now
	end
end)

--// ========== FLY LOOP ==========
RunService.RenderStepped:Connect(function()
	if flying and hrp and hum.Health > 0 then
		local dir = hum.MoveDirection
		hrp.CFrame = hrp.CFrame + (dir * flySpeed) + Vector3.new(0, liftPower * 0.05, 0)
	end
end)

--// ========== SAFE TELEPORT FUNCTION ==========
function safeTeleport(pos)
	for i = 1, teleportTweenSteps do
		if not hrp then return end
		local stepPos = hrp.Position:Lerp(pos, i / teleportTweenSteps)
		hrp.CFrame = CFrame.new(stepPos)
		task.wait(0.03)
	end
end

-- Example (optional use):
-- safeTeleport(Vector3.new(100, 60, 200))

--// ========== ANTI-KICK ==========
local mt = getrawmetatable(game)
setreadonly(mt, false)
local oldNamecall = mt.__namecall
mt.__namecall = newcclosure(function(self, ...)
	local method = getnamecallmethod()
	if method == "Kick" or method == "kick" then
		warn("[ANTI-KICK] Server tried to kick you. Blocked.")
		return nil
	end
	return oldNamecall(self, ...)
end)

--// ========== BLOCK KNOWN REMOTES ==========
local blockedNames = {"kick", "ban", "cheat", "detect", "flag", "log", "punish"}
for _, obj in ipairs(getgc(true)) do
	if typeof(obj) == "table" then
		for k, v in pairs(obj) do
			if typeof(v) == "function" and typeof(k) == "string" then
				for _, b in ipairs(blockedNames) do
					if k:lower():find(b) then
						obj[k] = function(...) return nil end
						warn("[ANTI-REMOTE] Blocked function:", k)
					end
				end
			end
		end
	end
end

--// OPTIONAL: DELETE RADAR GUI IF EXISTS
for _, v in pairs(player.PlayerGui:GetDescendants()) do
	if v:IsA("LocalScript") and tostring(v.Name):lower():find("radar") then
		v:Destroy()
	end
end
